= error_messages_for 'relation'
%p
  = f.select :relation_type, collection_for_relation_type_select, {}, :onchange => "setPredecessorFieldsVisibility();", :class => "form-control"
  = l(:label_issue)
  \##{f.text_field :issue_to_id, :size => 10, :class => "form-control"}
  %span#predecessor_fields{:style => "display:none;"}
    = l(:field_delay)
    \: #{f.text_field :delay, :size => 3, :class => "form-control"} #{l(:label_day_plural)}
  = submit_tag l(:button_add), :class => "btn btn-primary"
  = link_to_function l(:button_cancel), '$("#new-relation-form").hide();'
= javascript_tag "observeAutocompleteField('relation_issue_to_id', '#{escape_javascript auto_complete_issues_path(:project_id => @project, :scope => (Setting.cross_project_issue_relations? ? 'all' : nil))}')"
= javascript_tag "setPredecessorFieldsVisibility();"
