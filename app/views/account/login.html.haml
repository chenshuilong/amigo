= call_hook :view_account_login_top
#login-form
  = form_tag(signin_path, onsubmit: 'return keepAnchorOnSignIn(this);') do
    = back_url_hidden_field_tag
    %table
      %tr
        %td{:style => "text-align:right;"}
          %label{:for => "username"}
            = l(:field_login)
            \:
        %td{:style => "text-align:left;"}= text_field_tag 'username', params[:username], :tabindex => '1'
      %tr
        %td{:style => "text-align:right;"}
          %label{:for => "password"}
            = l(:field_password)
            \:
        %td{:style => "text-align:left;"}= password_field_tag 'password', nil, :tabindex => '2'
      - if Setting.openid?
        %tr
          %td{:style => "text-align:right;"}
            %label{:for => "openid_url"}= l(:field_identity_url)
          %td{:style => "text-align:left;"}= text_field_tag "openid_url", nil, :tabindex => '3'
      %tr
        %td
        %td{:style => "text-align:left;"}
          - if Setting.autologin?
            %label{:for => "autologin"}
              = check_box_tag 'autologin', 1, false, :tabindex => 4
              = l(:label_stay_logged_in)
      %tr
        %td{:style => "text-align:left;"}
          - if Setting.lost_password?
            = link_to l(:label_password_lost), lost_password_path
        %td{:style => "text-align:right;"}
          %input{:name => "login", :tabindex => "5", :type => "submit", :value => "#{l(:button_login)} Â»"}/
= call_hook :view_account_login_bottom
- if params[:username].present?
  = javascript_tag "$('#password').focus();"
- else
  = javascript_tag "$('#username').focus();"
